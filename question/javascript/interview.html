<script>
    Array.prototype.myNewFun = function () {
        let res = [];
        for (let i = 0; i < this.length; i++) {
            res.push(this[i] * 2);
        }
        return res;
    }
    let array = [1, 2, 3, 4, 5];
    let ress = array.myNewFun();
    console.log(ress);

    Array.prototype.newMap = function (cb) {
        let res = [];
        for (let i = 0; i < this.length; i++) {
            res.push(cb(this[i], i, this));
        }
        return res;
    }
    array = [1, 2, 3, 4, 5];
    let resss = array.newMap((el) => el * 3);
    console.log(resss);


    let name2 = "raj";
    function init() {
        let name = "rajesh";
        inner = () => {
            console.log(name, name2);
        }
        inner();
    }
    init();


    let addd = (a) => a + 5;
    let sub = (a) => a - 5;
    let prodd = (a) => a * 5;

    let composer = (...args) => x => args.reduce((last, cur) => cur(x));


    let combineRes = composer(addd, sub, prodd);
    console.log(combineRes(30));
    //console.log(combineRes);

    let arr = [4, 5, 6, 7, 8, 9];

    /*
    async function asyncPrint() {
        for (let el of arr) {
            await print(el);
        }
    }
    asyncPrint();
    async function print(num) {
        return new Promise((res) => {
            setTimeout(() => {
                console.log(num);
                res();
            }, 1000)
        });
    }
    */
    arr.reduce((last, cur) => {
        return last.then(() => {
            return new Promise((res) => {
                setTimeout(() => {
                    console.log(cur);
                    res();
                }, 1000);
            })
        })
    }, Promise.resolve())

</script>